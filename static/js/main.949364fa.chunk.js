(this.webpackJsonpemailflow=this.webpackJsonpemailflow||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},182:function(e,t,a){e.exports=a(389)},187:function(e,t,a){},192:function(e,t,a){},194:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},226:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){},229:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},250:function(e,t){},252:function(e,t){},262:function(e,t){},264:function(e,t){},291:function(e,t){},293:function(e,t){},294:function(e,t){},299:function(e,t){},301:function(e,t){},308:function(e,t){},310:function(e,t){},328:function(e,t){},330:function(e,t){},342:function(e,t){},345:function(e,t){},372:function(e,t,a){},373:function(e,t,a){},374:function(e,t,a){},375:function(e,t,a){},376:function(e,t,a){},377:function(e,t,a){},378:function(e,t,a){},379:function(e,t,a){},380:function(e,t,a){},381:function(e,t,a){},382:function(e,t,a){},383:function(e,t,a){},384:function(e,t,a){},385:function(e,t,a){},386:function(e,t,a){},387:function(e,t,a){},388:function(e,t,a){},389:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(64),i=a.n(r),o=(a(187),a(416)),l=a(2),s=a(34),u=a(176),m=a(1),d={isAuth:!1,firstname:"",lastname:""},p={theme:"theme_dark",textSize:"textsize_medium",themeColor:"themecolor1",sidebar:!1,hideSidebarOnDesktop:!0},f={users:[]},h={assets:[]},b={projects:[]},E={domains:[]},v={customEndpoints:[]},j={templates:[]},g={emailServers:[]},O={apiKeys:[]},y=Object(s.c)({authorization:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_AUTH":return console.log("GET_AUTH reducer"),Object(m.a)({},e);case"ADD_AUTH":return console.log("ADD_AUTH reducer"),Object(m.a)(Object(m.a)({},e),t.payload);case"REMOVE_AUTH":return console.log("REMOVE_AUTH reducer"),Object(m.a)(Object(m.a)({},e),{},{isAuth:!1,firstname:"",lastname:""});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROFILE":return console.log("GET_PROFILE reducer"),Object(m.a)({},e);case"SET_PROFILE":return console.log("SET_PROFILE reducer"),Object(m.a)(Object(m.a)({},e),t.payload);default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER":return console.log("GET_USER reducer"),Object(m.a)({},e);case"ADD_USER":return console.log("ADD_USER reducer"),Object(m.a)(Object(m.a)({},e),t.payload);case"FETCH_ALL_USERS":return console.log("FETCH_ALL_USERS reducer"),console.log(t),Object(m.a)(Object(m.a)({},e),t.payload);default:return e}},space:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REFRESH_SPACES":return console.log("GET_AUTH reducer"),Object(m.a)(Object(m.a)({},e),t.payload);default:return e}},project:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RELOAD_PROJECTS":return console.log("RELOAD_PROJECTS reducer"),Object(m.a)(Object(m.a)({},e),t.payload);default:return e}},domain:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RELOAD_DOMAINS":return console.log("RELOAD_DOMAINS reducer"),Object(m.a)(Object(m.a)({},e),t.payload);default:return e}},customEndpoint:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RELOAD_CUSTOM_ENDPOINTS":return console.log("RELOAD_CUSTOM_ENDPOINTS reducer"),Object(m.a)(Object(m.a)({},e),t.payload);default:return e}},template:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RELOAD_TEMPLATES":return console.log("RELOAD_TEMPLATES reducer"),Object(m.a)(Object(m.a)({},e),t.payload);default:return e}},emailServer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RELOAD_EMAIL_SERVERS":return console.log("RELOAD_EMAIL_SERVERS reducer"),Object(m.a)(Object(m.a)({},e),t.payload);default:return e}},apiKey:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RELOAD_API_KEYS":return console.log("RELOAD_API_KEYS reducer"),Object(m.a)(Object(m.a)({},e),t.payload);default:return e}}}),N=[u.a],k=Object(s.e)(y,{},Object(s.d)(s.a.apply(void 0,N))),w=(a(101),a(192),a(177)),A=a.n(w),_=a(178),R=a(415),S=a(179),C=a(4),T=(a(102),a(417)),I=a(418),P=new T.a;function L(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0;P.next({name:e,signal:t,data:a})}function x(){return P.asObservable()}function U(){return Math.random()}a(194);var z=function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"oak-spinner"},c.a.createElement("div",{className:"spinner-wrapper"},c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null))))},D=function(e){var t;return c.a.createElement("div",{className:"message ".concat(e.notification.type)},"running"===e.notification.type&&c.a.createElement("div",{className:"message-icon ".concat("running"===e.notification.type?"running":"")},c.a.createElement("i",{className:"material-icons"},"rotate_right")),"success"===e.notification.type&&c.a.createElement("div",{className:"message-icon"},c.a.createElement("i",{className:"material-icons"},"check_circle_outline")),"warning"===e.notification.type&&c.a.createElement("div",{className:"message-icon"},c.a.createElement("i",{className:"material-icons"},"warning")),"failure"===e.notification.type&&c.a.createElement("div",{className:"message-icon"},c.a.createElement("i",{className:"material-icons"},"error_outline")),c.a.createElement("div",{className:"message-text"},null===(t=e.notification)||void 0===t?void 0:t.message),c.a.createElement("div",{className:"message-action"},c.a.createElement("i",{className:"material-icons",onClick:e.handleRemove},"clear")))},M=function(){var e=Object(n.useState)(!1),t=Object(C.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)([]),o=Object(C.a)(i,2),l=o[0],s=o[1],u=Object(n.useState)({notificationList:[]}),m=Object(C.a)(u,2),d=(m[0],m[1],function(e){s(l.filter((function(t){return t.id!==e.id})))});return Object(n.useEffect)((function(){var e=x().subscribe((function(e){"notification"===e.name&&(e.signal?(d(e.data),function(e){var t=Object(S.a)(l);t.unshift(e),s(t),e.duration?setTimeout((function(){d(e)}),e.duration):e.id||setTimeout((function(){d(e)}),5e3)}(e.data),r(!1)):d(e.data)),"spinner"===e.name&&r(e.signal)}));return function(){return e.unsubscribe()}}),[]),c.a.createElement(c.a.Fragment,null,l&&l.length>0&&c.a.createElement("div",{className:"notification"},l.slice(0,5).reverse().map((function(e){return c.a.createElement("div",{key:e.id||e.message},c.a.createElement(D,{notification:e,handleRemove:d}))}))),a&&c.a.createElement(z,{"data-test":"spinner"}))},F=a(41),H=a.n(F),K="https://api.ioak.io:8050";function B(e,t,a){return H.a.get((a||K)+e,t)}function W(e,t,a,n){return H.a.post((n||K)+e,t,a)}function J(e,t,a){return H.a.delete((a||K)+e,t)}var G={API_URL_TENANT:"/tenant",API_URL_TENANT_BANNER:"/tenant/banner",API_URL_TENANT_CREATE:"/tenant/create",API_TENANT_URL:"/tenant/sendURL",API_URL_PRESIGNUP:"/auth/keys",API_URL_RESET:"/auth/reset",API_URL_CODE:"/auth/sendResetCode",API_URL_USER_DETAILS:"/user/details",API_URL_STAGE:"/stage",API_URL_PREDICT:"/model/predict",API_URL_CATEGORY:"/category",API_URL_FAQ:"/faq",API_URL_SR:"/servicerequests",API_URL_USER:"/user",API_URL:"/auth/",API_SIGNIN:"/signin",API_SIGNUP:"/signup",API_KEYS:"/keys",API_JWT:"/signin/jwt",API_URL_PROJECT:"/project",API_URL_PROJECTMEMBER:"/projectmember",API_URL_ENDPOINT_DOMAIN:"/endpoint/domain",API_URL_ENDPOINT_CUSTOM:"/endpoint/custom",API_URL_TEMPLATE:"/template",API_URL_EMAIL_SERVER:"/email-server",API_URL_API_KEY:"/apikey"},Y=function(e,t){return function(a){B("".concat(G.API_URL_API_KEY,"/").concat(e),{headers:{Authorization:t.token}}).then((function(e){a({type:"RELOAD_API_KEYS",payload:{apiKeys:e.data}})}))}},V=function(){var e=Object(l.c)((function(e){return e.authorization})),t=Object(n.useState)(),a=Object(C.a)(t,2),r=(a[0],a[1]),i=Object(n.useState)(),o=Object(C.a)(i,2),s=o[0],u=o[1],m=Object(l.b)();Object(n.useEffect)((function(){e.isAuth&&s&&d(),r(e)}),[e,s]),Object(n.useEffect)((function(){x().subscribe((function(e){console.log(e),"spaceChange"===e.name&&u(e.data)}))}),[]);var d=function(){console.log("Initialization logic here"),m(function(e,t){return function(a){B("".concat(G.API_URL_PROJECT,"/").concat(e),{headers:{Authorization:t.token}}).then((function(e){a({type:"RELOAD_PROJECTS",payload:{projects:e.data}})}))}}(s,e)),m(function(e,t){return function(a){B("".concat(G.API_URL_TEMPLATE,"/").concat(e),{headers:{Authorization:t.token}}).then((function(e){a({type:"RELOAD_TEMPLATES",payload:{templates:e.data}})}))}}(s,e)),m(function(e,t){return function(a){B("".concat(G.API_URL_EMAIL_SERVER,"/").concat(e),{headers:{Authorization:t.token}}).then((function(e){a({type:"RELOAD_EMAIL_SERVERS",payload:{emailServers:e.data}})}))}}(s,e)),m(Y(s,e))};return c.a.createElement(c.a.Fragment,null)},q=(a(211),function(e){return function(t){t({type:"SET_PROFILE",payload:e})}}),$=(a(212),a(213),a(35)),Q=function(e){var t=Object(l.c)((function(e){return e.profile}));return c.a.createElement("div",{className:"links ".concat(t.theme)},c.a.createElement($.a,{to:"/".concat(e.space,"/home"),className:"navitem",activeClassName:"active"},"Home"),c.a.createElement($.a,{to:"/".concat(e.space,"/project"),className:"navitem",activeClassName:"active"},"Projects"),c.a.createElement($.a,{to:"/".concat(e.space,"/email-server"),className:"navitem",activeClassName:"active"},"Email Servers"),c.a.createElement($.a,{to:"/".concat(e.space,"/template"),className:"navitem",activeClassName:"active"},"Templates"))},X=a(10),Z=(a(215),a(216),a(403)),ee=a(404),te=function(){var e=Object(l.c)((function(e){return e.profile})),t=Object(l.b)();return c.a.createElement("div",{className:"dark-mode-icon ".concat(e.theme),onClick:function(){t(q({theme:"theme_dark"===e.theme?"theme_light":"theme_dark"}))}},"theme_dark"===e.theme&&c.a.createElement(Z.a,{className:"cursor-pointer"}),"theme_dark"!==e.theme&&c.a.createElement(ee.a,{className:"cursor-pointer"}))},ae=a(405),ne=a(406),ce=(a(217),function(e){var t=Object(l.c)((function(e){return e.authorization})),a=Object(l.c)((function(e){return e.profile}));return c.a.createElement("div",{className:"nav-account-icon ".concat(a.theme),onClick:t.isAuth?e.logout:e.login},t.isAuth&&c.a.createElement("div",{className:"nav-account-icon--username"},c.a.createElement("div",null,"".concat(t.firstName," ").concat(t.lastName)),c.a.createElement(ae.a,{className:"cursor-pointer"})),!t.isAuth&&c.a.createElement(ne.a,{className:"cursor-pointer"}))}),re=function(e){return function(t){t({type:"ADD_AUTH",payload:e})}},ie=function(e){Object(l.c)((function(e){return e.authorization}));var t=Object(l.b)(),a=Object(X.useHistory)();return c.a.createElement("div",{className:"right-nav"},c.a.createElement(te,null),c.a.createElement(ce,{logout:function(n){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"You have been logged out";t((function(e){e({type:"REMOVE_AUTH"})})),e.cookies.remove("ir_".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://api.ioak.io:8050",REACT_APP_ONEAUTH_API_URL:"https://api.ioak.io:8010",REACT_APP_ONEAUTH_APP_ID:"0db87b6df7a1fe24fc9dbce7",REACT_APP_ONEAUTH_URL:"https://oneauth-app.ioak.io"}).REACT_APP_ONEAUTH_APPSPACE_ID)),a.push("/"),L("notification",!0,{type:c,message:r,duration:3e3})},login:function(e){a.push("/")}}))},oe=a(407),le=(a(218),function(){Object(l.c)((function(e){return e.authorization}));var e=Object(l.c)((function(e){return e.profile})),t=Object(l.b)();return c.a.createElement("div",{className:"expand-icon"},c.a.createElement(oe.a,{className:e.sidebar?"menu-icon sidebar-shown":"menu-icon sidebar-hidden",onClick:function(){t(q(Object(m.a)(Object(m.a)({},e),{},{sidebar:!e.sidebar})))}}))}),se=(a(219),a(97)),ue=a.n(se),me=function(){Object(l.c)((function(e){return e.authorization}));var e=Object(l.c)((function(e){return e.profile}));Object(l.b)();return c.a.createElement("div",{className:"logo"},"theme_light"===e.theme&&c.a.createElement("img",{className:"logo--image",src:ue.a,alt:"Emailflow logo"}),"theme_light"!==e.theme&&c.a.createElement("img",{className:"logo--image",src:ue.a,alt:"Emailflow logo"}))},de=function(e){var t=Object(l.c)((function(e){return e.authorization}));Object(l.c)((function(e){return e.profile})),Object(l.b)();return c.a.createElement("div",{className:"topbar"},c.a.createElement("div",{className:"topbar--left"},c.a.createElement("div",{className:"".concat(e.hideSidebarOnDesktop?"mobile-only":"")},c.a.createElement(le,null)),e.hideSidebarOnDesktop&&c.a.createElement("div",{className:"desktop-only"},c.a.createElement(me,null)),t.isAuth&&c.a.createElement("div",{className:"topbar--left--nav desktop-only"},c.a.createElement(Q,{space:e.space}))),c.a.createElement("div",{className:"topbar--right"},c.a.createElement(ie,{cookies:e.cookies})))},pe=function(e){var t=Object(l.c)((function(e){return e.profile})),a=Object(n.useState)(""),r=Object(C.a)(a,2),i=r[0],o=r[1];return Object(n.useEffect)((function(){x().subscribe((function(e){"spaceChange"===e.name&&o(e.data)}))}),[]),c.a.createElement("div",{className:"topbar-container ".concat(t.sidebar?"sidebar-shown":"sidebar-hidden")},c.a.createElement(de,{space:i,cookies:e.cookies,hideSidebarOnDesktop:t.hideSidebarOnDesktop}))},fe=(a(111),a(220),function(){Object(l.c)((function(e){return e.authorization}));var e=Object(l.c)((function(e){return e.profile})),t=Object(l.b)();return c.a.createElement("div",{className:"header"},c.a.createElement(oe.a,{className:"mobile-only",onClick:function(){t(q(Object(m.a)(Object(m.a)({},e),{},{sidebar:!e.sidebar})))}}),c.a.createElement(me,null))}),he=(a(221),a(222),function(e){var t=Object(l.c)((function(e){return e.profile})),a=Object(l.b)();return c.a.createElement("div",{className:"nav-item"},c.a.createElement($.a,{to:e.to,className:"navitem",activeClassName:"active",onClick:function(){e.closeAfterRouteChange&&a(q(Object(m.a)(Object(m.a)({},t),{},{sidebar:!1})))}},e.label))}),be=function(e){Object(l.c)((function(e){return e.authorization})),Object(l.c)((function(e){return e.profile})),Object(l.b)();return c.a.createElement("div",{className:"nav-elements"},c.a.createElement(he,{to:"/".concat(e.space,"/home"),label:"Home",closeAfterRouteChange:e.closeAfterRouteChange}),c.a.createElement(he,{to:"/".concat(e.space,"/project"),label:"Projects",closeAfterRouteChange:e.closeAfterRouteChange}),c.a.createElement(he,{to:"/".concat(e.space,"/email-server"),label:"Email Server",closeAfterRouteChange:e.closeAfterRouteChange}),c.a.createElement(he,{to:"/".concat(e.space,"/template"),label:"Template",closeAfterRouteChange:e.closeAfterRouteChange}),c.a.createElement(he,{to:"/".concat(e.space,"/endpoint"),label:"Help",closeAfterRouteChange:e.closeAfterRouteChange}))},Ee=function(){var e=Object(n.useState)(""),t=Object(C.a)(e,2),a=t[0],r=t[1];Object(l.c)((function(e){return e.authorization})),Object(l.c)((function(e){return e.profile})),Object(l.b)();return Object(n.useEffect)((function(){x().subscribe((function(e){"spaceChange"===e.name&&r(e.data)}))}),[]),c.a.createElement("div",{className:"sidebar"},c.a.createElement("div",{className:"sidebar--header"},c.a.createElement(fe,null)),c.a.createElement("div",{className:"sidebar--nav desktop-only"},c.a.createElement(be,{space:a})),c.a.createElement("div",{className:"sidebar--nav mobile-only"},c.a.createElement(be,{space:a,closeAfterRouteChange:!0})))},ve=(a(223),function(){var e=Object(l.c)((function(e){return e.profile}));return c.a.createElement("div",{className:"sidebar-container ".concat(e.sidebar?"show":"hide")},c.a.createElement("div",{className:"".concat(e.hideSidebarOnDesktop?"mobile-only":"")},c.a.createElement(Ee,null)))}),je=(a(224),a(225),a(112),function(e){return c.a.createElement("div",{className:"oak-heading-link",onClick:function(){return e.link.action()}},e.link.icon&&e.link.icon,c.a.createElement("div",{className:"heading-link-label ".concat("large"===e.size?"typography-5":"typography-4")},e.link.label))}),ge=function(e){var t;return c.a.createElement("div",{className:"oak-heading"},c.a.createElement("div",{className:"oak-heading--heading-title"},e.title),e.subtitle&&c.a.createElement("div",{className:"oak-heading--heading-subtitle"},e.subtitle),c.a.createElement("div",{className:"heading-links"},null===(t=e.links)||void 0===t?void 0:t.map((function(t,a){return c.a.createElement(je,{link:t,key:a,size:e.linkSize})}))),e.children&&c.a.createElement("div",{className:"heading-children"},e.children),c.a.createElement("div",{className:"heading-highlight"}))},Oe=(a(226),function(e){return c.a.createElement(c.a.Fragment,null,!e.outer&&c.a.createElement("div",{className:"oak-section"},(e.title||e.subtitle)&&c.a.createElement("div",{className:"oak-section--header-".concat(e.title?"highlight":"basic")},e.title&&c.a.createElement("div",{className:"oak-section--header--title"},e.title),!e.title&&e.subtitle&&c.a.createElement("div",{className:"oak-section--header--subtitle"},e.subtitle)),c.a.createElement("div",{className:"oak-section--body"},c.a.createElement("div",{className:"oak-section--app-text"},e.children))),e.outer&&c.a.createElement("div",{className:"oak-section-outer"},e.children))}),ye=(a(227),function(e){var t;return c.a.createElement("div",{className:"oak-subheading"},c.a.createElement("div",{className:"oak-subheading--heading-title"},e.title),e.subtitle&&c.a.createElement("div",{className:"oak-subheading--heading-subtitle"},e.subtitle),c.a.createElement("div",{className:"heading-links"},null===(t=e.links)||void 0===t?void 0:t.map((function(t,a){return c.a.createElement(je,{link:t,key:a,size:e.linkSize})}))),e.children&&c.a.createElement("div",{className:"heading-children"},e.children),c.a.createElement("div",{className:"heading-highlight"}))}),Ne=(a(228),function(e){Object(l.c)((function(e){return e.authorization}));return c.a.createElement("div",{className:"page-home"},c.a.createElement(Oe,null,c.a.createElement(ge,{title:"Simplify email communications from your app",subtitle:"Send emails from you application using REST API. Build campaign or marketing email using velocity templates."}),c.a.createElement("div",{className:"page-home--steps"},c.a.createElement("div",{className:"page-home--steps--container"},c.a.createElement(ye,{title:"Welcome aboard!"}),c.a.createElement("div",{className:"page-home--steps--container--subtitle"},"Your single stop to handle email communications from all of your applications.")))))}),ke=(a(229),a(25)),we=function(e){return Object(n.useEffect)((function(){if(e.location.search){var t=ke.parse(e.location.search);e.cookies.set("emailflow_".concat(t.space),t.authKey),console.log(typeof t.from),console.log(t.from||"/".concat(t.space,"/home")),e.history.push(t.from?t.from:"/".concat(t.space,"/home"))}}),[]),c.a.createElement(c.a.Fragment,null)},Ae=(a(57),function(e){return c.a.createElement("div",{className:"asset-list-item",onClick:function(){window.location.href="".concat("https://oneauth-app.ioak.io","/#/space/").concat(e.asset.spaceId,"/login?type=signin&appId=").concat("0db87b6df7a1fe24fc9dbce7")}},c.a.createElement("div",{className:"asset-list-item--link"},c.a.createElement("div",{className:"typography-6"},e.asset.name)),c.a.createElement("div",{className:"typography-4"},e.asset.description))}),_e=function(e){var t,a=Object(l.c)((function(e){return e.space}));return c.a.createElement("div",{className:"list-assets"},c.a.createElement(ge,{title:"Choose an asset to proceed"}),c.a.createElement("div",{className:"list-assets--content"},null===a||void 0===a||null===(t=a.spaces)||void 0===t?void 0:t.map((function(t){return c.a.createElement(Ae,{asset:t,history:e.history,key:t.id})}))))},Re=(a(242),function(e){var t=Object(l.c)((function(e){return e.profile}));return c.a.createElement("button",{className:"oak-button ".concat(function(){var a,n=e.theme?e.theme:"";return n+=(null===t||void 0===t||null===(a=t.theme)||void 0===a?void 0:a.includes("theme_light"))?" light":" dark",n+=e.variant?" ".concat(e.variant):"","icon"===e.shape&&(n+=" icon"),n+=e.align?" align-".concat(e.align):"",n+=e.size?" size-".concat(e.size):" size-small",n+=e.shape?" shape-".concat(e.shape):" shape-rectangle"}()),onClick:e.action,disabled:"disabled"===e.variant},c.a.createElement("div",{className:"button-label-container"},e.children&&e.children))}),Se=function(e){return c.a.createElement("div",{className:"getting-started"},c.a.createElement("div",null,c.a.createElement(ge,{title:"Getting Started"}),c.a.createElement("div",{className:"getting-started--steps space-top-2"},c.a.createElement("div",{className:"typography-7"},"Create Space"),c.a.createElement("div",{className:"typography-4"},"An asset represents an application or product being supported. Create an asset to get started with the process of onboarding your product into Emailflow."),c.a.createElement("div",{className:"typography-7"},"Set Emailflow URL in your product"),c.a.createElement("div",{className:"typography-4"},"To provide seemless experience to your users, add a link from your product to Emailflow. By triggering a button for example from your product, your users will be securely transferred to Emailflow with their details."),c.a.createElement("div",{className:"typography-7"},"Securely transmit user information to Emailflow"),c.a.createElement("div",{className:"typography-4"},"When you redirect from your product, transmit the user information like email and name securely using JWT tokens. Password for JWT is set by you during the asset creation process."))),c.a.createElement("div",{className:"action-footer position-center"},c.a.createElement(Re,{theme:"primary",variant:"disappear",action:function(){e.history.push("/asset/create")}},"Create a new space")))},Ce=function(e){return c.a.createElement("div",{className:"landing"},c.a.createElement(_e,{history:e.history}),c.a.createElement("hr",null),c.a.createElement(Se,{history:e.history}))},Te=a(11),Ie=(a(243),a(408));function Pe(e){return null===e||null!==e.match(/^ *$/)}a(244);var Le=function(e){return c.a.createElement("div",{className:"oak-text"},!e.multiline&&c.a.createElement("input",{disabled:e.disabled,autoComplete:"off",className:(e.errorFields&&e.errorFields[e.id]?"error":"")+(e.disabled?" disabled":""),type:e.type?e.type:"text",name:e.id,id:e.id,value:e.data[e.id],onChange:e.handleChange,onFocus:function(){e.handleFocus&&e.handleFocus()}}),e.multiline&&c.a.createElement("textarea",{disabled:e.disabled,className:(e.errorFields&&e.errorFields[e.id]?"error":"")+(e.disabled?" disabled":""),id:e.id,name:e.id,value:e.data[e.id],onChange:e.handleChange}),c.a.createElement("label",{htmlFor:e.id,className:Pe(e.data[e.id])?"":"active"},e.label),e.subtitle&&c.a.createElement("div",{className:"typography-3"},e.subtitle),e.errorData&&e.errorData[e.id]&&c.a.createElement("div",{className:"text-field-error"},c.a.createElement(Ie.a,null),e.errorData[e.id]))};var xe=a(98),Ue=a.n(xe),ze=a(99),De=a.n(ze);function Me(e,t,a){var n={cipher:"aes",iter:"12000",ks:256,salt:De.a.enc.Base64.stringify(De.a.enc.Utf8.parse(a))};return Ue.a.encrypt(e,t,n)}var Fe=function(e){var t=Object(n.useState)({name:"",email:"",password:"",repeatPassword:"",jwtPassword:"",pageNo:1,created:!1}),a=Object(C.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(null),l=Object(C.a)(o,2),s=l[0],u=l[1],d=Object(n.useState)({name:!1,email:!1,password:!1,repeatPassword:!1,jwtPassword:!1}),p=Object(C.a)(d,2),f=p[0],h=p[1];Object(n.useEffect)((function(){e.getProfile()}),[]);var b=function(e){i(Object(m.a)(Object(m.a)({},r),{},Object(Te.a)({},e.currentTarget.name,e.currentTarget.value)))},E=function(e){h(Object(m.a)(Object(m.a)({},f),{},Object(Te.a)({},e,!0)))},v=function(e){(function(e){var t=new FormData;return t.append("tenantName",e.tenantName),t.append("email",e.email),t.append("jwtPassword",e.jwtPassword),t.append("problem",Me(e.password,e.solution,e.salt)),t.append("solution",e.solution),e.banner&&t.append("banner",e.banner,"banner.jpg"),W(G.API_URL_TENANT_CREATE,t,{"Content-Type":"multipart/form-data"}).then((function(e){return Promise.resolve(e)}))})({tenantName:r.name,email:r.email,password:r.password,jwtPassword:r.jwtPassword,solution:e.solution,salt:e.salt,banner:s}).then((function(e){200===e.status?(L("notification",!0,{type:"success",message:"Tenant has been created. You can proceed now",duration:3e3}),i(Object(m.a)(Object(m.a)({},r),{},{pageNo:r.pageNo+1,created:!0}))):L("notification",!0,{message:"We are facing some problem, please try after sometime",duration:3e3})})).catch((function(e){L("notification",!0,{type:"failure",message:"Unknown error. Please try again or at a later time",duration:3e3})}))};return c.a.createElement("div",{className:"tenant boxed"},!r.created&&c.a.createElement("div",{className:"typography-3 space-bottom-4"},"Tenant creation"),r.created&&c.a.createElement("div",{className:"typography-3 space-bottom-4"},"Tenant [",r.name,"] available now"),1===r.pageNo&&c.a.createElement("div",{className:"form"},c.a.createElement(Le,{id:"name",data:r,label:"Tenant Name",handleChange:function(e){return b(e)},errorFields:f}),c.a.createElement(Le,{id:"email",data:r,label:"Administrator Email",handleChange:function(e){return b(e)},errorFields:f}),c.a.createElement(Le,{id:"password",type:"password",data:r,label:"Administrator Password",handleChange:function(e){return b(e)},errorFields:f}),c.a.createElement(Le,{id:"repeatPassword",type:"password",data:r,label:"Repeat Password",handleChange:function(e){return b(e)},errorFields:f}),c.a.createElement(Le,{id:"jwtPassword",type:"password",data:r,label:"JWT Password",handleChange:function(e){return b(e)},errorFields:f}),c.a.createElement("label",{className:"file-upload space-top-1 space-bottom-4"},c.a.createElement("input",{type:"file",accept:"image/png, image/jpeg",onChange:function(e){u(e.target.files[0])},required:!0}),c.a.createElement("i",{className:"material-icons"},"add_photo_alternate"),!s&&"Choose Banner/Cover Image",s&&s.name),c.a.createElement("div",{className:"action"},c.a.createElement(Re,{theme:"primary",variant:"appear",action:function(e){e.preventDefault(),L("spinner"),h({name:!1,email:!1,password:!1,repeatPassword:!1,jwtPassword:!1}),(Pe(r.name)?(E("name"),L("notification",!0,{type:"failure",message:"Tenant name cannot be empty",duration:3e3}),0):/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(r.email)?Pe(r.password)?(E("password"),L("notification",!0,{type:"failure",message:"Password cannot be empty",duration:3e3}),0):r.password===r.repeatPassword||(E("repeatPassword"),L("notification",!0,{type:"failure",message:"Password and repeat password should be same",duration:3e3}),0):(E("email"),L("notification",!0,{type:"failure",message:"Email ID is invalid",duration:3e3}),0))&&function(e){return B(G.API_URL+e.name+G.API_KEYS,null).then((function(e){return Promise.resolve(e)}))}({name:r.name}).then((function(e){200===e.status&&v(e.data)}))}},"Create Tenant"))),r.created&&c.a.createElement(Re,{theme:"primary",variant:"disappear",action:function(){e.history.push("/".concat(r.name,"/home"))}},"Take me to my tenant"))},He=a(5),Ke=a.n(He),Be=a(8),We=function(e){var t=Object(l.c)((function(e){return e.authorization})),a=Object(l.c)((function(e){return e.profile})),n=Object(l.b)(),r=function(e){switch(L("spaceChange",!0,""),e){case"readAuthentication":return o();case"authenticate":return i();case"isAdmin":return u();default:return!0}},i=function(){return s("space")},o=function(){return s("space",!1)},s=function(){var a=Object(Be.a)(Ke.a.mark((function a(c){var r,i,o,l,s=arguments;return Ke.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=!(s.length>1&&void 0!==s[1])||s[1],L("spaceChange",!0,e.match.params.space),!t.isAuth){a.next=4;break}return a.abrupt("return",!0);case 4:if(i="emailflow_".concat(e.match.params.space),o=e.cookies.get(i),l="/auth/".concat(e.match.params.space),!o){a.next=11;break}B("".concat(l,"/session/").concat(o),null).then((function(e){200===e.status&&(console.log("@@@@@@@@@"),n(re({isAuth:!0,token:e.data.data.token,secret:"",firstName:e.data.data.firstName,lastName:e.data.data.lastName,email:e.data.data.email,type:e.data.data.type,userId:e.data.data.userId})))})).catch((function(t){e.cookies.remove(i),r&&404===t.response.status?(L("notification",!0,{type:"failure",message:"Invalid session token",duration:3e3}),m(e.match.params.space)):r&&401===t.response.status&&(L("notification",!0,{type:"failure",message:"Session expired",duration:3e3}),m(e.match.params.space))})),a.next=16;break;case 11:if(!r){a.next=15;break}m(e.match.params.space),a.next=16;break;case 15:return a.abrupt("return",!0);case 16:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),u=function(){return d(),!1},m=function(t){e.history.push("/".concat(t,"/login/home"))},d=function(){e.history.push("/".concat(a.space,"/unauthorized"))};return c.a.createElement(c.a.Fragment,null,function(){var t;return null===(t=e.middleware)||void 0===t||t.forEach((function(e){if(!r(e))return!1})),!0}()&&c.a.createElement(e.component,Object.assign({},e,{profile:a,space:e.match.params.space})))},Je=function(){return c.a.createElement("div",null,c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),"Unauthorized")},Ge=(a(372),function(e){return c.a.createElement("div",{className:"oak-page"},c.a.createElement("div",{className:"oak-page-container"},e.children))}),Ye=(a(170),function(e){return c.a.createElement("div",{className:"space-list-item align-horizontal",onClick:function(){window.location.href="".concat("https://oneauth-app.ioak.io","/#/space/").concat(e.space.spaceId,"/login?type=signin&appId=").concat("0db87b6df7a1fe24fc9dbce7")}},c.a.createElement("div",{className:"space-list-item--link"},c.a.createElement("div",{className:"typography-6 space-horizontal-1"},e.space.name)),"( ",c.a.createElement("div",{className:"typography-4"},e.space.spaceId)," )")}),Ve=a(25),qe=function(e){var t=Object(l.c)((function(e){return e.authorization})),a=Object(n.useState)(void 0),r=Object(C.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)({text:""}),u=Object(C.a)(s,2),d=u[0],p=u[1];Object(n.useEffect)((function(){var t=Ve.parse(e.location.search);t.space&&(window.location.href="".concat("https://oneauth-app.ioak.io","/#/space/").concat(t.space,"/login?type=signin&appId=").concat("0db87b6df7a1fe24fc9dbce7","&from=").concat(t.from))}),[]),Object(n.useEffect)((function(){B("/space/introspect",null,"https://api.ioak.io:8010").then((function(e){return Promise.resolve(e.data)})).then((function(e){o(f(e.data,d.text))}))}),[d]);var f=function(e,t){return Pe(t)?e:e.filter((function(e){return-1!==e.name.toLowerCase().indexOf(t.toLowerCase())}))};Object(n.useEffect)((function(){t.isAuth&&e.history.push("/".concat(e.space,"/article"))}),[t]);return c.a.createElement(Ge,null,c.a.createElement(Oe,null,c.a.createElement("div",{className:"view-space-item"},c.a.createElement("div",{className:"page-header"},c.a.createElement(ge,{title:"Login via Oneauth",subtitle:"You will be redirected to oneauth for signing in to your space",links:function(){var t=[];return e.history.length>2&&t.push({label:"Go back",icon:"reply",action:function(){e.history.goBack()}}),t}(),linkSize:"large"})),c.a.createElement(Le,{label:"Type company name to filter",handleChange:function(e){p(Object(m.a)(Object(m.a)({},d),{},Object(Te.a)({},e.target.name,e.target.value)))},id:"text",data:d}),c.a.createElement("div",{className:"list-spaces"},c.a.createElement("div",{className:"list-spaces--content"},null===i||void 0===i?void 0:i.map((function(t){return c.a.createElement(Ye,{history:e.history,space:t,key:t._id})})))))))},$e=(a(171),function(e){return c.a.createElement("div",{className:"login-method",onClick:function(){return e.action()}},e.icon&&c.a.createElement("i",{className:"material-icons"},e.icon),e.svgIcon&&c.a.createElement("img",{className:"login-method--icon",src:e.svgIcon,alt:"Login via ".concat(e.label)}),c.a.createElement("div",{className:"typography-7"},e.label))}),Qe=a(25),Xe=function(e){var t=Object(l.c)((function(e){return e.authorization})),a=(Object(l.c)((function(e){return e.profile})),Object(n.useState)()),r=Object(C.a)(a,2),i=r[0],o=r[1];return Object(n.useEffect)((function(){t.isAuth&&e.history.push("/".concat(e.space,"/home"))}),[t]),Object(n.useEffect)((function(){var t=Qe.parse(e.location.search);t.from?o(t.from):o(void 0)}),[e.location.search]),c.a.createElement(Ge,null,c.a.createElement(Oe,null,c.a.createElement(ge,{title:"Sign in",subtitle:"Choose the preferred authentication method to continue"}),c.a.createElement("div",{className:"view-asset-item"},c.a.createElement("div",{className:"space-top-3 emailflow-signin"},c.a.createElement("div",{className:"login-home"},c.a.createElement($e,{action:function(){e.history.push("/".concat(e.space,"/login/oa").concat(i?"?from=".concat(i):""))},icon:"corporate_fare",label:"Enterprise Login"}),c.a.createElement($e,{action:function(){console.log("not yet implemented")},icon:"people",label:"Individual Login"}),c.a.createElement($e,{action:function(){e.history.push("/".concat(e.space,"/login/email").concat(i?"?from=".concat(i):""))},icon:"email",label:"OTP via Email"}))))))},Ze=(a(373),a(374),function(e){return c.a.createElement("div",{className:"project-link",onClick:function(){return e.history.push("/".concat(e.space,"/project/view?id=").concat(e.project.id))}},c.a.createElement("div",{className:"project-link--name"},e.project.name))}),et=a(409),tt=function(e){var t=Object(l.c)((function(e){return e.project.projects}));return c.a.createElement(Ge,null,c.a.createElement(Oe,null,c.a.createElement(ge,{title:"List of projects",links:[{label:"New project",icon:c.a.createElement(et.a,null),action:function(){return e.history.push("/".concat(e.space,"/project/create"))}}],linkSize:"large"}),c.a.createElement("div",{className:"list-project"},null===t||void 0===t?void 0:t.map((function(t){return c.a.createElement(Ze,{key:t.id,space:e.space,history:e.history,project:t})})))))},at=(a(375),a(376),function(e){return c.a.createElement("div",{className:"oak-form"},c.a.createElement("div",{className:"oak-form--container"},e.children))}),nt=(a(377),function(e){return c.a.createElement("div",{className:"oak-footer ".concat(e.align||"right")},c.a.createElement("div",{className:"oak-footer--container ".concat(e.align||"right")},e.children))}),ct=function(){var e=Object(Be.a)(Ke.a.mark((function e(t,a,n){var c;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W("".concat(G.API_URL_PROJECT,"/").concat(t,"/"),n,{headers:{Authorization:a.token}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),rt=function(){var e=Object(Be.a)(Ke.a.mark((function e(t,a,n){var c;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W("".concat(G.API_URL_PROJECTMEMBER,"/").concat(t,"/"),n,{headers:{Authorization:a.token}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),it=function(){var e=Object(Be.a)(Ke.a.mark((function e(t,a,n){var c;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B("".concat(G.API_URL_PROJECTMEMBER,"/").concat(t,"/project/").concat(n),{headers:{Authorization:a.token}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ot=function(){var e=Object(Be.a)(Ke.a.mark((function e(t,a,n){var c;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("".concat(G.API_URL_PROJECTMEMBER,"/").concat(t,"/").concat(n),{headers:{Authorization:a.token}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),lt=function(e){var t=Object(n.useState)({name:"",description:"",reference:""}),a=Object(C.a)(t,2),r=a[0],i=a[1],o=(Object(l.b)(),Object(l.c)((function(e){return e.authorization}))),s=function(e){i(Object(m.a)(Object(m.a)({},r),{},Object(Te.a)({},e.currentTarget.name,e.currentTarget.value)))},u=function(){var t=Object(Be.a)(Ke.a.mark((function t(){var a,n;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L("notification",!0,{id:a=U(),type:"running",message:"Saving project [".concat(r.name,"]")}),t.next=4,ct(e.space,o,Object(m.a)(Object(m.a)({},r),{},{reference:r.reference.toLowerCase().replace(/\s/g,"").replace(/\W/g,"")}));case 4:n=t.sent,console.log(n),200===n.status&&(L("notification",!0,{id:a,type:"success",message:"Project [".concat(r.name,"] saved successfully"),duration:3e3}),e.history.push("/".concat(e.space,"/project")));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c.a.createElement(Ge,null,c.a.createElement(Oe,null,c.a.createElement(ge,{title:"Create new project",links:[{label:"Back",icon:"reply",action:function(){return e.history.goBack()}}],linkSize:"large"}),c.a.createElement("div",{className:"create-project"},c.a.createElement(at,null,c.a.createElement(Le,{data:r,id:"name",handleChange:function(e){i(Object(m.a)(Object(m.a)({},r),{},{name:e.currentTarget.value,reference:r.name===r.reference?e.currentTarget.value:r.reference}))},label:"Project name"}),c.a.createElement(Le,{data:Object(m.a)(Object(m.a)({},r),{},{reference:r.reference.toLowerCase().replace(/\s/g,"").replace(/\W/g,"")}),id:"reference",handleChange:s,label:"Reference word for URL path prefix"}),c.a.createElement(Le,{data:r,id:"description",handleChange:s,label:"Short description about the project",multiline:!0})),c.a.createElement(nt,null,c.a.createElement(Re,{theme:"primary",variant:"appear",action:u},"Save"),c.a.createElement(Re,{theme:"default",variant:"appear"},"Cancel")))))},st=(a(172),a(25),function(e){var t=Object(l.c)((function(e){return e.authorization})),a=Object(n.useState)({reference:"",description:"",name:""}),r=Object(C.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)(!1),u=Object(C.a)(s,2),d=u[0],p=u[1];Object(n.useEffect)((function(){o(Object(m.a)(Object(m.a)({},i),e.project))}),[e.project]);var f=function(e){o(Object(m.a)(Object(m.a)({},i),{},Object(Te.a)({},e.currentTarget.name,e.currentTarget.value))),p(!0)},h=function(){var a=Object(Be.a)(Ke.a.mark((function a(){var n,c;return Ke.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return L("notification",!0,{id:n=U(),type:"running",message:"Saving project [".concat(i.name,"]")}),a.next=4,ct(e.space,t,Object(m.a)(Object(m.a)({},i),{},{reference:i.reference.toLowerCase().replace(/\s/g,"").replace(/\W/g,"")}));case 4:c=a.sent,console.log(c),200===c.status&&(L("notification",!0,{id:n,type:"success",message:"Project [".concat(i.name,"] saved successfully"),duration:3e3}),e.history.push("/".concat(e.space,"/project")));case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return c.a.createElement("div",{className:"project-detail-section"},e.project&&c.a.createElement(at,null,c.a.createElement(Le,{data:i,id:"name",handleChange:function(e){o(Object(m.a)(Object(m.a)({},i),{},{name:e.currentTarget.value,reference:i.name===i.reference?i.reference:e.currentTarget.value})),p(!0)},label:"Project name"}),c.a.createElement(Le,{data:Object(m.a)(Object(m.a)({},i),{},{reference:i.reference.toLowerCase().replace(/\s/g,"").replace(/\W/g,"")}),id:"reference",handleChange:f,label:"Reference word for URL path prefix"}),c.a.createElement(Le,{data:i,id:"description",handleChange:f,label:"Short description about the project",multiline:!0})),d&&c.a.createElement(nt,null,c.a.createElement(Re,{theme:"primary",variant:"appear",action:h},"Save"),c.a.createElement(Re,{theme:"default",variant:"appear",action:function(){o(Object(m.a)(Object(m.a)({},i),e.project)),p(!1)}},"Discard")))}),ut=(a(378),function(e){var t=Object(n.useState)(""),a=Object(C.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)({}),l=Object(C.a)(o,2),s=l[0],u=l[1],d=Object(X.useLocation)();Object(n.useEffect)((function(){p()}),[e.meta,e.children]),Object(n.useEffect)((function(){var t;e.noBookmarking||i(Pe(d.hash)?null===(t=e.meta[0])||void 0===t?void 0:t.slotName:d.hash.substr(1))}),[d.hash]);var p=function(){var t={};c.a.Children.toArray(e.children).forEach((function(e){t=Object(m.a)(Object(m.a)({},t),{},Object(Te.a)({},e.props.slot,e))})),u(t),e.noBookmarking&&!r&&i(Object.keys(t)[0])};return c.a.createElement("div",{className:"oak-tab ".concat(e.variant)},c.a.createElement("div",{className:"oak-tab--header"},e.noBookmarking&&e.meta.map((function(e){return c.a.createElement("button",{key:e.slotName,className:"oak-tab--header--button tab typography-6 ".concat(r===e.slotName?"active":"inactive"),onClick:function(t){return i(e.slotName)}},c.a.createElement("i",{className:"material-icons typography-8 ".concat(r===e.slotName?"active":"")},e.icon),c.a.createElement("div",{className:"label"},e.label))})),!e.noBookmarking&&e.meta.map((function(e){return c.a.createElement("a",{key:e.slotName,className:"tab typography-6 ".concat(r===e.slotName?"active":"inactive"),href:"#".concat(d.pathname).concat(d.search,"#").concat(e.slotName)},c.a.createElement("i",{className:"material-icons typography-8 ".concat(r===e.slotName?"active":"")},e.icon),c.a.createElement("div",{className:"label"},e.label))}))),e.meta.map((function(e){return c.a.createElement("div",{key:e.slotName,className:"content ".concat(r===e.slotName?"active":"inactive")},s[r])})))}),mt=(a(379),function(e){var t=Object(n.useState)(Object(I.a)()),a=Object(C.a)(t,2),r=a[0],i=(a[1],Object(n.useState)(!1)),o=Object(C.a)(i,2),l=o[0],s=o[1],u=Object(n.useState)(Object(Te.a)({},r,"")),m=Object(C.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(void 0),h=Object(C.a)(f,2),b=h[0],E=h[1];Object(n.useEffect)((function(){v(d[r])}),[e.objects]);var v=function(t){E(e.objects.filter((function(e){var a;return null===(a=e.value)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase())})))};return Object(n.useEffect)((function(){window.addEventListener("click",(function(e){var t;(null===(t=document.getElementById(r))||void 0===t?void 0:t.contains(e.target))||s(!1)}))}),[]),c.a.createElement("div",{className:"oak-auto-complete",id:r},c.a.createElement("div",{className:"search-bar"},c.a.createElement(Le,{id:r,data:d,label:e.label,handleFocus:function(){s(!0)},handleChange:function(e){p(Object(Te.a)({},e.target.name,e.target.value)),v(e.target.value)},placeholder:e.placeholder})),l&&b&&b.length>0&&c.a.createElement("div",{className:"results"},null===b||void 0===b?void 0:b.map((function(t){return c.a.createElement("div",{className:"element",key:t.key,onClick:function(){return a=t.key,s(!1),void e.handleChange(a);var a}},t.value)}))))}),dt=(a(380),function(e){var t,a,r=Object(l.c)((function(e){return e.authorization})),i=Object(n.useState)(!1),o=Object(C.a)(i,2),s=o[0],u=o[1],m=function(){var t=Object(Be.a)(Ke.a.mark((function t(){var a;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L("notification",!0,{id:a=U(),type:"running",message:"Removing member from project"}),t.next=4,ot(e.space,r,e.member._id);case 4:200===t.sent.status&&(L("notification",!0,{id:a,type:"success",message:"Member removed from project successfully",duration:3e3}),e.refresh());case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"project-member-link"},c.a.createElement("div",null,"".concat(null===(t=e.user)||void 0===t?void 0:t.firstName," ").concat(null===(a=e.user)||void 0===a?void 0:a.lastName)),c.a.createElement("div",{className:"project-member-link--action"},!s&&c.a.createElement(Re,{theme:"primary",variant:"regular",action:function(){return u(!0)}},"Remove"),s&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Re,{theme:"default",variant:"regular",action:function(){return u(!1)}},"Cancel"),c.a.createElement(Re,{theme:"primary",variant:"regular",action:m},"Confirm"))))}),pt=function(e){var t=Object(l.c)((function(e){return e.user.users})),a=Object(l.c)((function(e){return e.authorization})),r=Object(n.useState)({}),i=Object(C.a)(r,2),o=i[0],s=i[1];Object(n.useEffect)((function(){var e={};null===t||void 0===t||t.forEach((function(t){return e[t._id]=t})),s(e)}),[t]);var u=function(){var t=Object(Be.a)(Ke.a.mark((function t(n){var c;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L("notification",!0,{id:c=U(),type:"running",message:"Adding member to project"}),t.next=4,rt(e.space,a,{userId:n,projectId:e.project._id,type:e.type});case 4:200===t.sent.status&&(L("notification",!0,{id:c,type:"success",message:"Member added to project successfully",duration:3e3}),e.refresh());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"project-member-section"},t&&c.a.createElement(mt,{handleChange:u,objects:null===t||void 0===t?void 0:t.map((function(e){return{key:e._id,value:"".concat(e.firstName," ").concat(e.lastName)}})),label:"Search for users to add"}),e.project&&c.a.createElement("div",{className:"project-member-section--content"},e.members.filter((function(t){return t.type===e.type})).map((function(t){return c.a.createElement(dt,{user:o[t.userId],member:t,key:t._id,space:e.space,refresh:e.refresh})}))))},ft=function(){var e=Object(Be.a)(Ke.a.mark((function e(t,a,n){var c;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W("".concat(G.API_URL_API_KEY,"/").concat(t,"/"),n,{headers:{Authorization:a.token}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ht=function(){var e=Object(Be.a)(Ke.a.mark((function e(t,a,n){var c;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("".concat(G.API_URL_API_KEY,"/").concat(t,"/").concat(n),{headers:{Authorization:a.token}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),bt=a(410),Et=(a(381),function(e){var t=Object(l.c)((function(e){return e.authorization})),a=Object(n.useState)(!1),r=Object(C.a)(a,2),i=(r[0],r[1],function(){var a=Object(Be.a)(Ke.a.mark((function a(){var n;return Ke.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return L("notification",!0,{id:n=U(),type:"running",message:"Removing member from project"}),a.next=4,ht(e.space,t,e.apiKey.id);case 4:200===a.sent.status&&(L("notification",!0,{id:n,type:"success",message:"Delete Api Key",duration:3e3}),e.refresh());case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}());return c.a.createElement("div",{className:"api-key-link"},c.a.createElement("div",{className:"api-key-link--text"},e.apiKey.key),c.a.createElement("div",{className:"api-key-link--action",onClick:i},c.a.createElement(bt.a,null)))}),vt=function(e){var t=Object(l.c)((function(e){return e.user.users})),a=Object(l.c)((function(e){return e.authorization})),r=Object(l.c)((function(t){return t.apiKey.apiKeys.filter((function(t){return t.domainId===(null===e||void 0===e?void 0:e.domainId)&&t.scope===(null===e||void 0===e?void 0:e.scope)}))})),i=Object(n.useState)({}),o=Object(C.a)(i,2),s=(o[0],o[1]);Object(n.useEffect)((function(){var e={};null===t||void 0===t||t.forEach((function(t){return e[t._id]=t})),s(e)}),[t]),Object(n.useEffect)((function(){console.log(r)}),[r]);var u=function(){var t=Object(Be.a)(Ke.a.mark((function t(){var n;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L("notification",!0,{id:n=U(),type:"running",message:"Generating Api Key"}),t.next=4,ft(e.space,a,{scope:e.scope,domainId:e.domainId});case 4:200===t.sent.status&&(L("notification",!0,{id:n,type:"success",message:"Api Key generated successfully",duration:3e3}),e.refresh());case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"api-key-section"},c.a.createElement(nt,{align:"center"},c.a.createElement(Re,{action:u,theme:"primary",variant:"appear"},"Generate new key")),c.a.createElement("div",{className:"api-key-section--list"},r&&r.map((function(t){return c.a.createElement(Et,{space:e.space,apiKey:t,refresh:e.refresh})}))))},jt=a(411),gt=a(412),Ot=a(413),yt=a(414),Nt=a(25),kt=function(e){var t=Object(l.b)(),a=Object(l.c)((function(e){return e.authorization})),r=Nt.parse(e.location.search),i=Object(l.c)((function(e){return e.project.projects.find((function(e){return e.id===r.id}))})),o=Object(n.useState)([]),s=Object(C.a)(o,2),u=s[0],m=s[1];Object(n.useEffect)((function(){Object(Be.a)(Ke.a.mark((function e(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=3;break}return e.next=3,d();case 3:case"end":return e.stop()}}),e)})))()}),[i]);var d=function(){var t=Object(Be.a)(Ke.a.mark((function t(){var n;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,it(e.space,a,i._id);case 2:200===(n=t.sent).status&&m(n.data.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=[{slotName:"overview",label:"Overview",icon:c.a.createElement(jt.a,null)},{slotName:"member",label:"Members",icon:c.a.createElement(gt.a,null)},{slotName:"administrator",label:"Administrators",icon:c.a.createElement(Ot.a,null)},{slotName:"apikey",label:"Api Keys",icon:c.a.createElement(yt.a,null)}];return c.a.createElement(Ge,null,c.a.createElement(ut,{meta:p,variant:"fullpage"},c.a.createElement("div",{slot:"overview"},c.a.createElement(Oe,null,c.a.createElement(st,{project:i,space:e.space,history:e.history}))),c.a.createElement("div",{slot:"member"},c.a.createElement(Oe,null,c.a.createElement(pt,{project:i,space:e.space,history:e.history,members:u,type:"MEMBER",refresh:d}))),c.a.createElement("div",{slot:"administrator"},c.a.createElement(Oe,null,c.a.createElement(pt,{project:i,space:e.space,history:e.history,members:u,type:"ADMINISTRATOR",refresh:d}))),c.a.createElement("div",{slot:"apikey"},i&&c.a.createElement(Oe,null,c.a.createElement(vt,{domainId:i.id,scope:"PROJECT",space:e.space,history:e.history,refresh:function(){return t(Y(e.space,a))}})))))},wt=(a(382),a(383),function(e){var t,a,r=Object(n.useState)(!1),i=Object(C.a)(r,2),o=i[0],l=i[1],s=function(t,a){t.target.name=e.id,t.target.value=a,e.handleChange(t),l(!o)};return e.elements?e.elements.map((function(e){return c.a.createElement("div",{className:"option",key:e,onClick:function(t){return s(t,e)}},e)})):e.objects&&e.objects.map((function(e){return c.a.createElement("div",{className:"option",key:e.key,onClick:function(t){return s(t,e.key)}},e.value)})),c.a.createElement("div",{className:"oak-select"},c.a.createElement("select",{onChange:e.handleChange,name:e.id,className:"select",value:e.data[e.id],disabled:e.disabled},c.a.createElement("option",{value:""}," "),e.firstAction&&c.a.createElement("option",{value:e.firstAction},e.firstAction),null===(t=e.elements)||void 0===t?void 0:t.map((function(e){return c.a.createElement("option",{value:e,key:e},e)})),null===(a=e.objects)||void 0===a?void 0:a.map((function(e){return c.a.createElement("option",{value:e.key,key:e.key},e.value)}))),e.label&&c.a.createElement("label",{htmlFor:e.id,className:e.data[e.id]?"active":""},e.label))}),At=(a(384),function(e){return c.a.createElement("div",{"aria-label":"Link to view template details",className:"template-link",onClick:function(){return e.history.push("/".concat(e.space,"/template/view?id=").concat(e.template.id))}},c.a.createElement("div",{"aria-label":"Template Name",className:"project-link--name"},e.template.name))}),_t=a(25),Rt=function(e){var t=Object(l.c)((function(e){return e.project.projects})),a=Object(n.useState)({projectId:""}),r=Object(C.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)(),u=Object(C.a)(s,2),d=u[0],p=u[1],f=Object(n.useState)([]),h=Object(C.a)(f,2),b=h[0],E=h[1],v=Object(l.c)((function(e){return e.template.templates}));Object(n.useEffect)((function(){p(v.filter((function(e){return e.projectId===i.projectId})))}),[i.projectId,v]),Object(n.useEffect)((function(){var t=_t.parse(e.location.search);o(Object(m.a)(Object(m.a)({},i),{},{projectId:null===t||void 0===t?void 0:t.projectId}))}),[e.location.search]),Object(n.useEffect)((function(){var e=[];t.map((function(t){e.push({key:t.id,value:t.name})})),E(e)}),[t]);return c.a.createElement(Ge,null,c.a.createElement(Oe,null,c.a.createElement(ge,{title:"Email templates",subtitle:"Manage email templates"}),c.a.createElement(at,null,c.a.createElement(wt,{id:"projectId",data:i,handleChange:function(t){e.history.push("/".concat(e.space,"/template?projectId=").concat(t.currentTarget.value))},label:"Choose project",objects:b})),i.projectId&&c.a.createElement(c.a.Fragment,null,c.a.createElement(nt,null,c.a.createElement(Re,{action:function(){return e.history.push("/".concat(e.space,"/template/create?projectId=").concat(i.projectId))},theme:"primary",variant:"appear"},"New template")),c.a.createElement("div",{"aria-label":"List of Templates",className:"list-templates"},null===d||void 0===d?void 0:d.map((function(t){return c.a.createElement(At,{key:t.id,space:e.space,history:e.history,template:t})}))))))},St=(a(385),function(){var e=Object(Be.a)(Ke.a.mark((function e(t,a,n){var c;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W("".concat(G.API_URL_TEMPLATE,"/").concat(t,"/"),n,{headers:{Authorization:a.token}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()),Ct=a(25),Tt=function(e){var t=function(){return e.history.goBack()},a=Object(n.useState)({name:"",subject:"",body:"",projectId:"",reference:""}),r=Object(C.a)(a,2),i=r[0],o=r[1],s=Object(l.c)((function(e){return e.authorization}));Object(n.useEffect)((function(){var t=Ct.parse(e.location.search);o(Object(m.a)(Object(m.a)({},i),{},{projectId:null===t||void 0===t?void 0:t.projectId}))}),[e.location.search]);var u=function(e){o(Object(m.a)(Object(m.a)({},i),{},Object(Te.a)({},e.currentTarget.name,e.currentTarget.value)))},d=function(){var t=Object(Be.a)(Ke.a.mark((function t(){var a,n;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L("notification",!0,{id:a=U(),type:"running",message:"Saving template [".concat(i.subject,"]")}),t.next=4,St(e.space,s,Object(m.a)(Object(m.a)({},i),{},{reference:i.reference.toLowerCase().replace(/\s/g,"").replace(/\W/g,"")}));case 4:n=t.sent,console.log(n),200===n.status&&(L("notification",!0,{id:a,type:"success",message:"Template [".concat(i.subject,"] saved successfully"),duration:3e3}),e.history.push("/".concat(e.space,"/template?projectId=").concat(i.projectId)));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c.a.createElement(Ge,null,c.a.createElement(Oe,null,c.a.createElement(ge,{title:"Create new template",links:[{label:"Back",icon:"reply",action:t}],linkSize:"large"}),c.a.createElement("div",{className:"create-project"},c.a.createElement(at,null,c.a.createElement(Le,{data:i,id:"name",handleChange:function(e){o(Object(m.a)(Object(m.a)({},i),{},{name:e.currentTarget.value,reference:i.name===i.reference?e.currentTarget.value:i.reference}))},label:"Template name"}),c.a.createElement(Le,{data:Object(m.a)(Object(m.a)({},i),{},{reference:i.reference.toLowerCase().replace(/\s/g,"").replace(/\W/g,"")}),id:"reference",disabled:!0,handleChange:u,label:"Reference word for template name"}),c.a.createElement(Le,{data:i,id:"subject",handleChange:function(e){o(Object(m.a)(Object(m.a)({},i),{},{subject:e.currentTarget.value}))},label:"Email subject"}),c.a.createElement(Le,{data:i,id:"body",handleChange:u,label:"Email body",multiline:!0})),c.a.createElement(nt,null,c.a.createElement(Re,{theme:"primary",variant:"appear",action:d},"Save"),c.a.createElement(Re,{theme:"default",variant:"appear",action:t},"Cancel")))))},It=(a(173),function(e){var t=Object(l.c)((function(e){return e.authorization})),a=Object(n.useState)({name:"",subject:"",body:"",reference:""}),r=Object(C.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)(!1),u=Object(C.a)(s,2),d=u[0],p=u[1];Object(n.useEffect)((function(){o(Object(m.a)(Object(m.a)({},i),e.template))}),[e.template]);var f=function(e){o(Object(m.a)(Object(m.a)({},i),{},Object(Te.a)({},e.currentTarget.name,e.currentTarget.value))),p(!0)},h=function(){var a=Object(Be.a)(Ke.a.mark((function a(){var n,c;return Ke.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return L("notification",!0,{id:n=U(),type:"running",message:"Saving project [".concat(i.name,"]")}),a.next=4,St(e.space,t,Object(m.a)(Object(m.a)({},i),{},{reference:i.reference.toLowerCase().replace(/\s/g,"").replace(/\W/g,"")}));case 4:c=a.sent,console.log(c),200===c.status&&(L("notification",!0,{id:n,type:"success",message:"Template [".concat(i.name,"] saved successfully"),duration:3e3}),e.history.push("/".concat(e.space,"/template")));case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return c.a.createElement("div",{className:"project-detail-section"},e.template&&c.a.createElement(at,null,c.a.createElement(Le,{data:i,id:"name",handleChange:function(e){o(Object(m.a)(Object(m.a)({},i),{},{name:e.currentTarget.value,reference:i.name===i.reference?i.reference:e.currentTarget.value})),p(!0)},label:"Template name"}),c.a.createElement(Le,{data:Object(m.a)(Object(m.a)({},i),{},{reference:i.reference.toLowerCase().replace(/\s/g,"").replace(/\W/g,"")}),id:"reference",handleChange:f,disabled:!0,label:"Reference word for template name"}),c.a.createElement(Le,{data:i,id:"subject",handleChange:function(e){o(Object(m.a)(Object(m.a)({},i),{},{subject:e.currentTarget.value})),p(!0)},label:"Email subject"}),c.a.createElement(Le,{data:i,id:"body",handleChange:f,label:"Email body",multiline:!0})),d&&c.a.createElement(nt,null,c.a.createElement(Re,{theme:"primary",variant:"appear",action:h},"Save"),c.a.createElement(Re,{theme:"default",variant:"appear",action:function(){o(Object(m.a)(Object(m.a)({},i),e.template)),p(!1)}},"Discard")))}),Pt=a(25),Lt=function(e){var t=Pt.parse(e.location.search),a=Object(l.c)((function(e){return e.template.templates.find((function(e){return e.id===t.id}))}));return c.a.createElement(Ge,null,c.a.createElement(ut,{meta:[{slotName:"settings",label:"Settings",icon:"settings"},{slotName:"endpoints",label:"Endpoints",icon:"code"}],variant:"fullpage"},c.a.createElement("div",{slot:"settings"},c.a.createElement(Oe,null,c.a.createElement(It,{template:a,space:e.space,history:e.history}))),c.a.createElement("div",{slot:"endpoints"},c.a.createElement(Oe,null,"endpoint details here"))))},xt=(a(386),a(387),function(e){return c.a.createElement("div",{"aria-label":"Link to view email server details",className:"email-server-link",onClick:function(){return e.history.push("/".concat(e.space,"/email-server/view?id=").concat(e.template.id))}},c.a.createElement("div",{"aria-label":"Email server Name",className:"project-link--name"},e.template.name))}),Ut=a(25),zt=function(e){var t=Object(l.c)((function(e){return e.project.projects})),a=Object(n.useState)({projectId:""}),r=Object(C.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)(),u=Object(C.a)(s,2),d=u[0],p=u[1],f=Object(n.useState)([]),h=Object(C.a)(f,2),b=h[0],E=h[1],v=Object(l.c)((function(e){return e.emailServer.emailServers}));Object(n.useEffect)((function(){p(v.filter((function(e){return e.projectId===i.projectId})))}),[i.projectId,v]),Object(n.useEffect)((function(){var t=Ut.parse(e.location.search);o(Object(m.a)(Object(m.a)({},i),{},{projectId:null===t||void 0===t?void 0:t.projectId}))}),[e.location.search]),Object(n.useEffect)((function(){var e=[];t.map((function(t){e.push({key:t.id,value:t.name})})),E(e)}),[t]);return c.a.createElement(Ge,null,c.a.createElement(Oe,null,c.a.createElement(ge,{title:"Email Servers",subtitle:"Manage email servers"}),c.a.createElement(at,null,c.a.createElement(wt,{id:"projectId",data:i,handleChange:function(t){e.history.push("/".concat(e.space,"/email-server?projectId=").concat(t.currentTarget.value))},label:"Choose project",objects:b})),i.projectId&&c.a.createElement(c.a.Fragment,null,c.a.createElement(nt,null,c.a.createElement(Re,{action:function(){return e.history.push("/".concat(e.space,"/email-server/create?projectId=").concat(i.projectId))},theme:"primary",variant:"appear"},"New email server")),c.a.createElement("div",{"aria-label":"List of Email Servers",className:"list-email-servers"},null===d||void 0===d?void 0:d.map((function(t){return c.a.createElement(xt,{key:t.id,space:e.space,history:e.history,template:t})}))))))},Dt=(a(388),function(){var e=Object(Be.a)(Ke.a.mark((function e(t,a,n){var c;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W("".concat(G.API_URL_EMAIL_SERVER,"/").concat(t,"/"),n,{headers:{Authorization:a.token}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()),Mt=a(25),Ft=function(e){var t=function(){return e.history.goBack()},a=Object(n.useState)({name:"",sender:"",host:"",port:"",password:"",projectId:"",reference:""}),r=Object(C.a)(a,2),i=r[0],o=r[1],s=Object(l.c)((function(e){return e.authorization}));Object(n.useEffect)((function(){var t=Mt.parse(e.location.search);o(Object(m.a)(Object(m.a)({},i),{},{projectId:null===t||void 0===t?void 0:t.projectId}))}),[e.location.search]);var u=function(e){o(Object(m.a)(Object(m.a)({},i),{},Object(Te.a)({},e.currentTarget.name,e.currentTarget.value)))},d=function(){var t=Object(Be.a)(Ke.a.mark((function t(){var a,n;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L("notification",!0,{id:a=U(),type:"running",message:"Saving template [".concat(i.name,"]")}),t.next=4,Dt(e.space,s,Object(m.a)(Object(m.a)({},i),{},{reference:i.reference.toLowerCase().replace(/\s/g,"").replace(/\W/g,"")}));case 4:n=t.sent,console.log(n),200===n.status&&(L("notification",!0,{id:a,type:"success",message:"Template [".concat(i.name,"] saved successfully"),duration:3e3}),e.history.push("/".concat(e.space,"/template?projectId=").concat(i.projectId)));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c.a.createElement(Ge,null,c.a.createElement(Oe,null,c.a.createElement(ge,{title:"Create new template",links:[{label:"Back",icon:"reply",action:t}],linkSize:"large"}),c.a.createElement("div",{className:"create-project"},c.a.createElement(at,null,c.a.createElement(Le,{data:i,id:"name",handleChange:function(e){o(Object(m.a)(Object(m.a)({},i),{},{name:e.currentTarget.value,reference:i.name===i.reference?e.currentTarget.value:i.reference}))},label:"Server name"}),c.a.createElement(Le,{data:Object(m.a)(Object(m.a)({},i),{},{reference:i.reference.toLowerCase().replace(/\s/g,"").replace(/\W/g,"")}),id:"reference",disabled:!0,handleChange:u,label:"Reference word for server"}),c.a.createElement(Le,{data:i,id:"host",handleChange:u,label:"Host"}),c.a.createElement(Le,{data:i,id:"port",handleChange:u,label:"Port"}),c.a.createElement(Le,{data:i,id:"sender",handleChange:u,label:"Sender"}),c.a.createElement(Le,{data:i,id:"password",handleChange:u,label:"Email password"})),c.a.createElement(nt,null,c.a.createElement(Re,{theme:"primary",variant:"appear",action:d},"Save"),c.a.createElement(Re,{theme:"default",variant:"appear",action:t},"Cancel")))))},Ht=(a(174),function(e){var t=Object(l.c)((function(e){return e.authorization})),a=Object(n.useState)({name:"",sender:"",host:"",port:"",password:"",projectId:"",reference:""}),r=Object(C.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)(!1),u=Object(C.a)(s,2),d=u[0],p=u[1];Object(n.useEffect)((function(){o(Object(m.a)(Object(m.a)({},i),e.emailServer))}),[e.emailServer]);var f=function(e){o(Object(m.a)(Object(m.a)({},i),{},Object(Te.a)({},e.currentTarget.name,e.currentTarget.value))),p(!0)},h=function(){var a=Object(Be.a)(Ke.a.mark((function a(){var n,c;return Ke.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return L("notification",!0,{id:n=U(),type:"running",message:"Saving project [".concat(i.name,"]")}),a.next=4,Dt(e.space,t,Object(m.a)(Object(m.a)({},i),{},{reference:i.reference.toLowerCase().replace(/\s/g,"").replace(/\W/g,"")}));case 4:c=a.sent,console.log(c),200===c.status&&(L("notification",!0,{id:n,type:"success",message:"Email server [".concat(i.name,"] saved successfully"),duration:3e3}),e.history.push("/".concat(e.space,"/email-server")));case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return c.a.createElement("div",{className:"project-detail-section"},e.emailServer&&c.a.createElement(at,null,c.a.createElement(Le,{data:i,id:"name",handleChange:function(e){o(Object(m.a)(Object(m.a)({},i),{},{name:e.currentTarget.value,reference:i.name===i.reference?i.reference:e.currentTarget.value})),p(!0)},label:"Server name"}),c.a.createElement(Le,{data:Object(m.a)(Object(m.a)({},i),{},{reference:i.reference.toLowerCase().replace(/\s/g,"").replace(/\W/g,"")}),id:"reference",handleChange:f,disabled:!0,label:"Reference word for email server"}),c.a.createElement(Le,{data:i,id:"host",handleChange:f,label:"Host"}),c.a.createElement(Le,{data:i,id:"port",handleChange:f,label:"Port"}),c.a.createElement(Le,{data:i,id:"sender",handleChange:f,label:"Sender"}),c.a.createElement(Le,{data:i,id:"password",handleChange:f,label:"Email password"})),d&&c.a.createElement(nt,null,c.a.createElement(Re,{theme:"primary",variant:"appear",action:h},"Save"),c.a.createElement(Re,{theme:"default",variant:"appear",action:function(){o(Object(m.a)(Object(m.a)({},i),e.emailServer)),p(!1)}},"Discard")))}),Kt=a(25),Bt=function(e){var t=Object(l.b)(),a=Object(l.c)((function(e){return e.authorization})),n=Kt.parse(e.location.search),r=Object(l.c)((function(e){return e.emailServer.emailServers.find((function(e){return e.id===n.id}))}));return c.a.createElement(Ge,null,c.a.createElement(ut,{meta:[{slotName:"settings",label:"Settings",icon:"settings"},{slotName:"endpoints",label:"Endpoints",icon:"code"},{slotName:"apikey",label:"Api Keys",icon:"vpn_key"}],variant:"fullpage"},c.a.createElement("div",{slot:"settings"},c.a.createElement(Oe,null,c.a.createElement(Ht,{emailServer:r,space:e.space,history:e.history}))),c.a.createElement("div",{slot:"endpoints"},c.a.createElement(Oe,null,"endpoint details here")),c.a.createElement("div",{slot:"apikey"},r&&c.a.createElement(Oe,null,c.a.createElement(vt,{domainId:r.id,scope:"SERVER",space:e.space,history:e.history,refresh:function(){return t(Y(e.space,a))}})))))},Wt=function(e){return c.a.createElement("div",{className:"router-view"},c.a.createElement(X.Route,{path:"/login",render:function(t){return c.a.createElement(We,Object.assign({},t,e,{component:we}))}}),c.a.createElement(X.Route,{path:"/:space/unauthorized",render:function(t){return c.a.createElement(We,Object.assign({},t,e,{component:Je,middleware:["isAuthenticated"]}))}}),c.a.createElement(X.Route,{path:"/",exact:!0,render:function(t){return c.a.createElement(We,Object.assign({},t,e,{component:Ce,middleware:["readAuthentication"]}))}}),c.a.createElement(X.Route,{path:"/home",exact:!0,render:function(t){return c.a.createElement(We,Object.assign({},t,e,{component:Ce}))}}),c.a.createElement(X.Route,{path:"/tenant",exact:!0,render:function(t){return c.a.createElement(We,Object.assign({},t,e,{component:Fe}))}}),c.a.createElement(X.Route,{path:"/:space/home",render:function(t){return c.a.createElement(We,Object.assign({},t,e,{component:Ne,middleware:["readAuthentication"]}))}}),c.a.createElement(X.Route,{path:"/:space/login/home",render:function(t){return c.a.createElement(We,Object.assign({},t,e,{component:Xe,middleware:["readAuthentication"]}))}}),c.a.createElement(X.Route,{path:"/:space/login/oa",render:function(t){return c.a.createElement(We,Object.assign({},t,e,{component:qe,middleware:["readAuthentication"]}))}}),c.a.createElement(X.Route,{path:"/:space/project",exact:!0,render:function(t){return c.a.createElement(We,Object.assign({},t,e,{component:tt,middleware:["readAuthentication"]}))}}),c.a.createElement(X.Route,{path:"/:space/project/view",render:function(t){return c.a.createElement(We,Object.assign({},t,e,{component:kt,middleware:["readAuthentication"]}))}}),c.a.createElement(X.Route,{path:"/:space/project/create",render:function(t){return c.a.createElement(We,Object.assign({},t,e,{component:lt,middleware:["readAuthentication"]}))}}),c.a.createElement(X.Route,{path:"/:space/template",exact:!0,render:function(t){return c.a.createElement(We,Object.assign({},t,e,{component:Rt,middleware:["readAuthentication"]}))}}),c.a.createElement(X.Route,{path:"/:space/template/create",exact:!0,render:function(t){return c.a.createElement(We,Object.assign({},t,e,{component:Tt,middleware:["readAuthentication"]}))}}),c.a.createElement(X.Route,{path:"/:space/template/view",exact:!0,render:function(t){return c.a.createElement(We,Object.assign({},t,e,{component:Lt,middleware:["readAuthentication"]}))}}),c.a.createElement(X.Route,{path:"/:space/email-server",exact:!0,render:function(t){return c.a.createElement(We,Object.assign({},t,e,{component:zt,middleware:["readAuthentication"]}))}}),c.a.createElement(X.Route,{path:"/:space/email-server/create",exact:!0,render:function(t){return c.a.createElement(We,Object.assign({},t,e,{component:Ft,middleware:["readAuthentication"]}))}}),c.a.createElement(X.Route,{path:"/:space/email-server/view",exact:!0,render:function(t){return c.a.createElement(We,Object.assign({},t,e,{component:Bt,middleware:["readAuthentication"]}))}}))},Jt=function(e){Object(l.c)((function(e){return e.authorization}));var t=Object(l.c)((function(e){return e.profile})),a=Object(n.useState)(""),r=Object(C.a)(a,2);r[0],r[1],Object(l.b)();return c.a.createElement("div",{className:"body-container"},c.a.createElement("div",{className:"body-container--content ".concat(t.sidebar?"sidebar-shown":"sidebar-hidden")},c.a.createElement(Wt,e)))},Gt=Object(R.a)((function(e){var t=Object(l.c)((function(e){return e.profile})),a=Object(l.b)();return Object(n.useEffect)((function(){a((function(e){H.a.get("".concat("https://api.ioak.io:8010","/space/introspect")).then((function(t){console.log(t.data.data),e({type:"REFRESH_SPACES",payload:{spaces:t.data.data}})}))}))}),[]),Object(n.useEffect)((function(){A.a.defaults.global.defaultFontColor="theme_dark"===t.theme?"#e0e0e0":"#626262"}),[t]),c.a.createElement("div",{className:"App ".concat(t.theme," ").concat(t.textSize," ").concat(t.themeColor)},c.a.createElement(_.HashRouter,null,c.a.createElement(V,null),c.a.createElement(M,null),c.a.createElement(pe,{cookies:e.cookies}),c.a.createElement(ve,null),c.a.createElement(Jt,e)))})),Yt=function(e){return c.a.createElement(l.a,{store:k},c.a.createElement(Gt,e))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(o.a,null,c.a.createElement(Yt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},57:function(e,t,a){},97:function(e,t,a){e.exports=a.p+"static/media/emailflow_white.5d65b00b.svg"}},[[182,1,2]]]);
//# sourceMappingURL=main.949364fa.chunk.js.map